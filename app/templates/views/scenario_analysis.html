<div class="p-8 h-full flex flex-col">
    <h2 class="text-3xl font-bold text-gray-800 mb-6">シナリオ分析</h2>

    <div class="mb-4">
        <label class="block text-gray-700 mb-2">分析対象シナリオ</label>
        <select
            id="scenario-select"
            class="w-full p-2 border border-gray-300 rounded"
            hx-get="/api/scenarios/{value}/analysis"
            hx-target="#analysis-result"
            hx-trigger="change"
            hx-swap="innerHTML">
            <option value="">シナリオを選択...</option>
        </select>
    </div>

    <div
        id="analysis-result"
        class="flex-1 border border-gray-300 rounded p-4 overflow-auto bg-white">
        <div class="text-center text-gray-500 py-8">
            シナリオを選択してください
        </div>
    </div>

    <script>
        // シナリオリストを読み込む
        fetch('/api/scenarios')
            .then(r => r.json())
            .then(scenarios => {
                const select = document.getElementById('scenario-select');
                scenarios.forEach(s => {
                    const option = document.createElement('option');
                    option.value = s.id;
                    option.textContent = s.name;
                    select.appendChild(option);
                });
            });
    </script>
</div>
